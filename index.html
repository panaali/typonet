<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script src="jquery.js"></script>
<title>Test</title>

<script>
var i = 0 ;
$(document).ready(function() {
	
	
	
	
	var sentence,
    words,
    chars = {};
    var newSentence = "";
	sentence = $('#sentence').text();
	word = sentence.split(" ");
    wrongChars = {wordID: 0, charID: 0};

	function splitter(sentence) {
	    words = sentence.split(" ");
	    
	    for (word in words) {
	        chars = words[word].split("");
	    }
	}
	
	
	var currentWord  = 0;
	var no = 0 ;
	var currentChar = 1;
	function keypressing(){
		$("#input").keyup(function(event){
			if ((event.which >= 65 && event.which <= 90) || (event.which >= 97 && event.which <= 122) || (event.which == 8) || (event.which == 32) ) { // 65-90 Lower Case , 97-122 Upper Case , 8 : backspace
				if(event.which == 8 && currentChar>=1) {	// pressed backspace
					currentChar--;
				}
				input = $('#input').val();
				wordchs = word[currentWord].split("");
				inputchs = input.split("");
				console.log('$ :' + word[currentWord].slice(0,currentChar) + '% :' + input.slice(0,currentChar) + 'currentChar : ' + currentChar );
				if( word[currentWord].slice(0,currentChar) == input.slice(0,currentChar) ){
					$('#true').text('YES!');
					var wordAlt = sentence.split(" "); ;
					for(no in word){
						if(wordAlt[no] == wordAlt[currentWord]){
							wordAlt[no] = '<span style="color:green; font-size:130%; ">' + wordAlt[no] + '</span>';
						} 
						newSentence += ' ' + wordAlt[no];
					}
					$('#newSentence').html(newSentence);
					newSentence = "";
					
					currentChar++;
				}else{
					$('#true').text('No!');
					
					var wordAlt = sentence.split(" "); ;
					for(no in word){
						if(wordAlt[no] == wordAlt[currentWord]){
							wordAlt[no] = '<span style="color:red; font-size:130%;">' + wordAlt[no] + '</span>';
						} 
						newSentence += ' ' + wordAlt[no];
					}
					$('#newSentence').html(newSentence);
					newSentence = "";
				}
				if(currentChar - 1 == word[currentWord].length ){
					if(event.which == 32){	// pressed space
						$('#true').text('Finish!');			// This Word is Finished ! Let's Go Next
						$("#input").val('');
						$('#newSentence').html(sentence);
						currentWord++ ;
						currentChar = 0;
					}
				}
					
			}
		})
	};
	
	
	keypressing();
	
})
</script>
</head>
<body>
<span></span>
<div id="true"></div>
<div id="sentence">salam Khoobi. Kojaii man inja hastam</div>
<input type="text" name="input" id="input"/>
</body>
<div id="newSentence"></div>
</html>